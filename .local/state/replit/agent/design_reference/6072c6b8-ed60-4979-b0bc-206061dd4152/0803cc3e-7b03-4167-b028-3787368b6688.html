<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tata Capital Assistant - AI Chat Interface</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'tata-primary': '#005BAC',
                        'tata-accent': '#00AEEF',
                        'tata-text': '#4B4B4B',
                        'tata-bg': '#F8F9FA',
                        'bot-bubble': '#E6F0FA',
                        'user-bubble': '#DCF8C6'
                    },
                    fontFamily: {
                        'lato': ['Lato', 'system-ui', '-apple-system', 'sans-serif']
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.3s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                        'bounce-dots': 'bounceDots 1.4s infinite ease-in-out'
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        },
                        bounceDots: {
                            '0%, 80%, 100%': { transform: 'scale(0)' },
                            '40%': { transform: 'scale(1)' }
                        }
                    }
                }
            }
        };
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-tata-bg font-lato">
    <!-- @COMPONENT: ChatInterface [main chat application container] -->
    <div class="flex flex-col h-screen max-w-4xl mx-auto bg-white shadow-xl">
        
        <!-- @COMPONENT: ChatHeader [fixed header with branding] -->
        <header class="bg-tata-primary text-white px-4 py-4 flex items-center justify-between shadow-lg">
            <div class="flex items-center space-x-3">
                <!-- Tata Capital Logo placeholder -->
                <div class="w-10 h-10 bg-white rounded-full flex items-center justify-center">
                    <i class="text-tata-primary text-xl font-bold">T</i>
                </div>
                <div>
                    <h1 class="text-xl font-semibold tracking-wide">Tata Capital Assistant</h1>
                    <p class="text-blue-200 text-sm">AI-powered financial guidance</p>
                </div>
            </div>
            <div class="flex items-center space-x-2">
                <button class="p-2 hover:bg-blue-700 rounded-lg transition-colors duration-200">
                    <i class="fas fa-cog"></i>
                </button>
                <button class="p-2 hover:bg-blue-700 rounded-lg transition-colors duration-200">
                    <i class="fas fa-ellipsis-v"></i>
                </button>
            </div>
        </header>
        <!-- @END_COMPONENT: ChatHeader -->

        <!-- @COMPONENT: ChatMessages [scrollable message container] -->
        <div id="chatMessages" class="flex-1 overflow-y-auto p-4 space-y-4 scroll-smooth">
            
            <!-- Welcome Message -->
            <div class="flex items-start space-x-3 animate-fade-in">
                <div class="w-8 h-8 bg-tata-accent rounded-full flex items-center justify-center flex-shrink-0">
                    <i class="fas fa-robot text-white text-sm"></i>
                </div>
                <div class="max-w-xs lg:max-w-md">
                    <div class="bg-bot-bubble rounded-2xl rounded-tl-sm px-4 py-3 shadow-sm">
                        <p class="text-tata-text leading-relaxed">Hello! I'm your Tata Capital Assistant. I'm here to help you with loans, investments, insurance, and all your financial needs. How can I assist you today?</p>
                    </div>
                    <p class="text-xs text-gray-500 mt-1 ml-2" data-mock="true">Just now</p>
                </div>
            </div>

            <!-- Sample User Message -->
            <div class="flex items-start space-x-3 justify-end animate-fade-in">
                <div class="max-w-xs lg:max-w-md">
                    <div class="bg-user-bubble rounded-2xl rounded-tr-sm px-4 py-3 shadow-sm">
                        <p class="text-tata-text leading-relaxed" data-mock="true">Hi! I'm interested in getting a personal loan. Can you tell me about the interest rates and eligibility criteria?</p>
                    </div>
                    <p class="text-xs text-gray-500 mt-1 mr-2 text-right" data-mock="true">2 minutes ago</p>
                </div>
                <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0">
                    <i class="fas fa-user text-white text-sm"></i>
                </div>
            </div>

            <!-- Sample Bot Response -->
            <div class="flex items-start space-x-3 animate-fade-in">
                <div class="w-8 h-8 bg-tata-accent rounded-full flex items-center justify-center flex-shrink-0">
                    <i class="fas fa-robot text-white text-sm"></i>
                </div>
                <div class="max-w-xs lg:max-w-md">
                    <div class="bg-bot-bubble rounded-2xl rounded-tl-sm px-4 py-3 shadow-sm">
                        <p class="text-tata-text leading-relaxed" data-mock="true">Great! I'd be happy to help you with personal loan information. Here are our current offerings:</p>
                        <div class="mt-3 space-y-2">
                            <div class="bg-white rounded-lg p-3 border border-blue-100" data-mock="true">
                                <h4 class="font-semibold text-tata-primary mb-1">Personal Loan</h4>
                                <ul class="text-sm text-tata-text space-y-1">
                                    <li>• Interest Rate: 10.99% - 19.99% p.a.</li>
                                    <li>• Loan Amount: ₹50,000 - ₹25 Lakhs</li>
                                    <li>• Tenure: 12 - 60 months</li>
                                    <li>• Processing Fee: 2.5% + GST</li>
                                </ul>
                            </div>
                        </div>
                        <p class="text-tata-text leading-relaxed mt-3" data-mock="true">Would you like me to check your eligibility or provide more details about the application process?</p>
                    </div>
                    <p class="text-xs text-gray-500 mt-1 ml-2" data-mock="true">1 minute ago</p>
                </div>
            </div>

            <!-- User Follow-up -->
            <div class="flex items-start space-x-3 justify-end animate-fade-in">
                <div class="max-w-xs lg:max-w-md">
                    <div class="bg-user-bubble rounded-2xl rounded-tr-sm px-4 py-3 shadow-sm">
                        <p class="text-tata-text leading-relaxed" data-mock="true">That sounds good! What documents would I need for the application?</p>
                    </div>
                    <p class="text-xs text-gray-500 mt-1 mr-2 text-right" data-mock="true">30 seconds ago</p>
                </div>
                <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0">
                    <i class="fas fa-user text-white text-sm"></i>
                </div>
            </div>

            <!-- Typing Indicator -->
            <div id="typingIndicator" class="flex items-start space-x-3 animate-fade-in" style="display: none;">
                <div class="w-8 h-8 bg-tata-accent rounded-full flex items-center justify-center flex-shrink-0">
                    <i class="fas fa-robot text-white text-sm"></i>
                </div>
                <div class="bg-bot-bubble rounded-2xl rounded-tl-sm px-4 py-3 shadow-sm">
                    <div class="flex space-x-1">
                        <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce-dots"></div>
                        <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce-dots" style="animation-delay: 0.1s;"></div>
                        <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce-dots" style="animation-delay: 0.2s;"></div>
                    </div>
                </div>
            </div>

        </div>
        <!-- @END_COMPONENT: ChatMessages -->

        <!-- @COMPONENT: ChatInput [sticky input area] -->
        <div class="border-t border-gray-200 bg-white px-4 py-4">
            <form id="chatForm" class="flex items-end space-x-3" data-implementation="Should handle form submission and message sending">
                <div class="flex-1 relative">
                    <textarea 
                        id="messageInput" 
                        placeholder="Type your message here..." 
                        rows="1"
                        class="w-full px-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-tata-accent focus:border-transparent resize-none text-tata-text placeholder-gray-500 max-h-32"
                        data-implementation="Auto-resize based on content, submit on Enter key"
                    ></textarea>
                    <div class="absolute right-3 bottom-3 text-xs text-gray-400" data-mock="true">
                        Shift + Enter for new line
                    </div>
                </div>
                <button 
                    type="submit" 
                    id="sendButton"
                    class="bg-tata-accent hover:bg-blue-500 text-white p-3 rounded-full shadow-lg transition-all duration-200 hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed"
                    data-event="click:sendMessage"
                    data-implementation="Should validate input and send message"
                >
                    <i class="fas fa-paper-plane"></i>
                </button>
            </form>
            
            <!-- Suggested Actions -->
            <div class="mt-3 flex flex-wrap gap-2">
                <button class="px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 text-tata-text rounded-full transition-colors duration-200" data-mock="true">
                    Check loan eligibility
                </button>
                <button class="px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 text-tata-text rounded-full transition-colors duration-200" data-mock="true">
                    Investment options
                </button>
                <button class="px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 text-tata-text rounded-full transition-colors duration-200" data-mock="true">
                    Insurance plans
                </button>
                <button class="px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 text-tata-text rounded-full transition-colors duration-200" data-mock="true">
                    EMI calculator
                </button>
            </div>
        </div>
        <!-- @END_COMPONENT: ChatInput -->

    </div>
    <!-- @END_COMPONENT: ChatInterface -->

    <!-- Quick Actions Floating Button (Mobile) -->
    <div class="fixed bottom-20 right-4 md:hidden">
        <button class="bg-tata-primary text-white p-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">
            <i class="fas fa-plus"></i>
        </button>
    </div>

    <script>
        // TODO: Implement business logic, API calls, and state management
        (function() {
            const chatMessages = document.getElementById('chatMessages');
            const messageInput = document.getElementById('messageInput');
            const sendButton = document.getElementById('sendButton');
            const chatForm = document.getElementById('chatForm');
            const typingIndicator = document.getElementById('typingIndicator');

            // Auto-resize textarea
            messageInput.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = (this.scrollHeight) + 'px';
            });

            // Handle form submission
            chatForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const message = messageInput.value.trim();
                
                if (message) {
                    // Add user message
                    addMessage(message, 'user');
                    messageInput.value = '';
                    messageInput.style.height = 'auto';
                    
                    // Show typing indicator
                    showTypingIndicator();
                    
                    // Simulate bot response
                    setTimeout(() => {
                        hideTypingIndicator();
                        addBotResponse(message);
                    }, 1500);
                }
            });

            // Handle Enter key submission
            messageInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    chatForm.dispatchEvent(new Event('submit'));
                }
            });

            function addMessage(text, sender) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `flex items-start space-x-3 animate-fade-in ${sender === 'user' ? 'justify-end' : ''}`;
                
                const timestamp = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                
                if (sender === 'user') {
                    messageDiv.innerHTML = `
                        <div class="max-w-xs lg:max-w-md">
                            <div class="bg-user-bubble rounded-2xl rounded-tr-sm px-4 py-3 shadow-sm">
                                <p class="text-tata-text leading-relaxed">${text}</p>
                            </div>
                            <p class="text-xs text-gray-500 mt-1 mr-2 text-right">${timestamp}</p>
                        </div>
                        <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-user text-white text-sm"></i>
                        </div>
                    `;
                } else {
                    messageDiv.innerHTML = `
                        <div class="w-8 h-8 bg-tata-accent rounded-full flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-robot text-white text-sm"></i>
                        </div>
                        <div class="max-w-xs lg:max-w-md">
                            <div class="bg-bot-bubble rounded-2xl rounded-tl-sm px-4 py-3 shadow-sm">
                                <p class="text-tata-text leading-relaxed">${text}</p>
                            </div>
                            <p class="text-xs text-gray-500 mt-1 ml-2">${timestamp}</p>
                        </div>
                    `;
                }
                
                chatMessages.appendChild(messageDiv);
                scrollToBottom();
            }

            function addBotResponse(userMessage) {
                // Simple mock responses
                const responses = {
                    'hello': 'Hello! How can I help you with your financial needs today?',
                    'loan': 'I can help you with various loan options including personal loans, home loans, and business loans. What type of loan are you interested in?',
                    'investment': 'We offer various investment products including mutual funds, fixed deposits, and systematic investment plans. Would you like to know more about any specific option?',
                    'insurance': 'Our insurance products include life insurance, health insurance, and general insurance. Which type of coverage are you looking for?',
                    'default': 'Thank you for your query. Our financial experts will get back to you with detailed information. Is there anything else I can help you with?'
                };

                let response = responses.default;
                const lowerMessage = userMessage.toLowerCase();

                for (const key in responses) {
                    if (lowerMessage.includes(key)) {
                        response = responses[key];
                        break;
                    }
                }

                addMessage(response, 'bot');
            }

            function showTypingIndicator() {
                typingIndicator.style.display = 'flex';
                scrollToBottom();
            }

            function hideTypingIndicator() {
                typingIndicator.style.display = 'none';
            }

            function scrollToBottom() {
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }

            // Handle suggested action clicks
            document.querySelectorAll('button[data-mock="true"]').forEach(button => {
                button.addEventListener('click', function() {
                    const suggestion = this.textContent.trim();
                    messageInput.value = `I'd like to know more about ${suggestion.toLowerCase()}`;
                    chatForm.dispatchEvent(new Event('submit'));
                });
            });

        })();
    </script>

</body>
</html>